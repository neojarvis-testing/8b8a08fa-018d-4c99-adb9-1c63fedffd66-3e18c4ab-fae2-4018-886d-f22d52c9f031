<!-- <h1 class="text-xl font-bold mb-4 text-center">Available Classes</h1>
<div class="search-container">
  <input 
    type="text" 
    [(ngModel)]="searchText" 
    placeholder="Search classes by name, cuisine, or chef..." 
    class="bg-[#FFF5E0] border border-[#7ABA78] text-[#0A6847] text-sm rounded-lg  focus:border-[#7ABA78] block w-full p-2.5">
</div>

<div class="classes-table-container">
  <table class="table-auto border-collapse border border-black w-full">
    <thead class="bg-gray-800 text-white">
      <tr>
        <th class="border border-gray-900 px-4 py-2">S.No</th>
        <th class="border border-gray-900 px-4 py-2">Class Name</th>
        <th class="border border-gray-900 px-4 py-2">Cuisine Name</th>
        <th class="border border-gray-900 px-4 py-2">Chef Name</th>
        <th class="border border-gray-900 px-4 py-2">Location</th>
        <th class="border border-gray-900 px-4 py-2">Duration (Hours)</th>
        <th class="border border-gray-900 px-4 py-2">Fee ($)</th>
        <th class="border border-gray-900 px-4 py-2">Ingredients Provided</th>
        <th class="border border-gray-900 px-4 py-2">Skill Level</th>
        <th class="border border-gray-900 px-4 py-2">Requirements</th>
        <th class="border border-gray-900 px-4 py-2">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let class of classes; let i = index">
        <td class="border border-gray-900 px-4 py-2 text-center">{{ i + 1 }}</td>
        <td class="border border-gray-900 px-4 py-2">{{ class.className }}</td>
        <td class="border border-gray-900 px-4 py-2 text-center">{{ class.cuisineType }}</td>
        <td class="border border-gray-900 px-4 py-2 text-center">{{ class.chefName }}</td>
        <td class="border border-gray-900 px-4 py-2 text-center">{{ class.location }}</td>
        <td class="border border-gray-900 px-4 py-2 text-center">{{ class.durationInHours }}</td>
        <td class="border border-gray-900 px-4 py-2 text-center">{{ class.fee }}</td>
        <td class="border border-gray-900 px-4 py-2 text-center">{{ class.ingredientsProvided }}</td>
        <td class="border border-gray-900 px-4 py-2 text-center">{{ class.skillLevel }}</td>
        <td class="border border-gray-900 px-4 py-2 text-center">{{ class.specialRequirements }}</td>
        <td>
          <button 
            *ngIf="!class.applied" class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded"
            (click)="applyForClass(class.cookingClassId)">
            Apply
          </button>
          <span *ngIf="class.applied" class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded">
            Applied
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div> -->

<!-- <app-usernav></app-usernav> -->
<div class="container mx-auto px-4 py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-gray-800">Available Classes</h1>

    <div class="relative w-64">
      <input type="text" [(ngModel)]="searchTerm" (input)="search()" placeholder="Search classes..."
      class="border rounded-lg block w-full p-2.5 text-sm outline-none">
      <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
        <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
          aria-hidden="true">
          <path fill-rule="evenodd"
            d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
            clip-rule="evenodd" />
        </svg>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="text-center py-4">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"></div>
    <p class="mt-3 text-2xl font-bold text-gray-800">Loading classes...</p>
  </div>

  <div *ngIf="!loading && error" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded" role="alert">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="!loading && !error">
    <div *ngIf="filteredClasses.length === 0" class="text-center py-6">
      <p class="text-2xl font-bold text-gray-800">No cooking classes found</p>
    </div>

    <div *ngIf="filteredClasses.length > 0" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <div *ngFor="let cookingClass of filteredClasses" class="bg-white rounded-lg shadow overflow-hidden">
        <div class="p-6">
          <h3 class="text-lg font-bold text-gray-900 mb-2 capitalize">{{ cookingClass.className }}</h3>
          <p class="text-sm text-gray-500 mb-1"><span class="font-semibold">Cuisine:</span> {{ cookingClass.cuisineType }}
          </p>
          <p class="text-sm text-gray-500 mb-1"><span class="font-semibold">Chef:</span> {{ cookingClass.chefName }}</p>
          <p class="text-sm text-gray-500 mb-1"><span class="font-semibold">Location:</span> {{ cookingClass.location }}
          </p>
          <p class="text-sm text-gray-500 mb-1"><span class="font-semibold">Duration:</span> {{
            cookingClass.durationInHours }} hour(s)</p>
          <p class="text-sm text-gray-500 mb-1"><span class="font-semibold">Fee:</span> {{ cookingClass.fee | currency }}
          </p>
          <p class="text-sm text-gray-500 mb-4"><span class="font-semibold">Skill Level:</span> {{ cookingClass.skillLevel
            }}</p>

          <button (click)="viewDetails(cookingClass)"
            class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-semibold rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
            View Details
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Class Details Modal -->
<div *ngIf="showDetailsModal && selectedClass"
  class="fixed inset-0 backdrop-blur-xs flex justify-center items-center">
  <div class="bg-white rounded-lg shadow-lg p-6 max-w-2xl w-full">
    <div class="flex justify-between items-start">
      <h3 class="text-xl font-bold text-gray-900 capitalize">{{ selectedClass.className }}</h3>
      <button class="text-gray-400 hover:text-gray-500" (click)="closeDetailsModal()">
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <p class="text-sm text-gray-500 mb-2"><span class="font-semibold">Cuisine Type:</span> {{
          selectedClass.cuisineType }}</p>
        <p class="text-sm text-gray-500 mb-2"><span class="font-semibold">Chef Name:</span> {{ selectedClass.chefName }}
        </p>
        <p class="text-sm text-gray-500 mb-2"><span class="font-semibold">Location:</span> {{ selectedClass.location }}
        </p>
        <p class="text-sm text-gray-500 mb-2"><span class="font-semibold">Duration:</span> {{
          selectedClass.durationInHours }} hour(s)</p>
      </div>

      <div>
        <p class="text-sm text-gray-500 mb-2"><span class="font-semibold">Fee:</span> {{ selectedClass.fee | currency }}
        </p>
        <p class="text-sm text-gray-500 mb-2"><span class="font-semibold">Ingredients Provided:</span> {{
          selectedClass.ingredientsProvided }}</p>
        <p class="text-sm text-gray-500 mb-2"><span class="font-semibold">Skill Level:</span> {{ selectedClass.skillLevel
          }}</p>
      </div>
    </div>

    <div class="mt-4">
      <p class="text-sm text-gray-500"><span class="font-semibold">Special Requirements:</span></p>
      <p class="text-sm text-gray-700 mt-1">{{ selectedClass.specialRequirements }}</p>
    </div>

    <div class="mt-6 flex justify-end space-x-4">
      <button class="bg-gray-100 text-gray-800 px-4 py-2 rounded hover:bg-gray-200 font font-medium " (click)="closeDetailsModal()">
        Close
      </button>
      <button class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 font font-medium " (click)="applyForClass()">
        Apply for Class
      </button>
    </div>
  </div>
</div>